#\!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🧪 Running tests on affected projects before push..."
npx nx affected -t test --parallel=3 || {
  echo "❌ Tests failed\! Please fix the failing tests before pushing."
  exit 1
}

echo "🔎 Running linting on affected projects..."
npx nx affected -t lint --parallel=3 || {
  echo "❌ Linting failed\! Please fix linting errors before pushing."
  exit 1
}

echo "✅ All checks passed\! Pushing..."
